<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preditor Dinâmico - Lotto24</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #060b13; color: white; font-family: sans-serif; overflow: hidden; }
        
        .header { 
            padding: 10px; 
            background: #0d141f; 
            text-align: center; 
            border-bottom: 1px solid #1a2332;
        }

        .top-label {
            font-size: 10px;
            color: #3399ff;
            font-weight: bold;
            letter-spacing: 2px;
            margin-bottom: 5px;
            text-transform: uppercase;
            transition: color 0.3s;
        }

        .signal-box {
            background: #060b13;
            border: 2px solid #3399ff;
            border-radius: 12px;
            padding: 10px 25px;
            display: inline-block;
            min-width: 200px;
            transition: all 0.5s;
        }

        .possible-text {
            font-size: 16px;
            font-weight: bold;
            color: white;
            margin: 0;
        }

        .multiplier-text {
            font-size: 22px;
            color: #3399ff;
        }

        .bar-container { width: 100%; height: 4px; background: #1a2332; margin-top: 10px; }
        .bar-fill { 
            width: 100%; height: 100%; 
            background: #3399ff; 
        }

        iframe { width: 100%; height: calc(100vh - 130px); border: none; }
    </style>
</head>
<body>
    <div class="header">
        <div id="status-label" class="top-label">Analisando...</div>
        <div class="signal-box" id="card-border">
            <p class="possible-text">POSSÍVEL <span id="val" class="multiplier-text">---</span></p>
        </div>
        <div class="bar-container">
            <div id="bar" class="bar-fill"></div>
        </div>
    </div>

    <iframe src="https://go.aff.oddsbest.co/52xcevjr"></iframe>

    <script>
        const bar = document.getElementById('bar');
        const valText = document.getElementById('val');
        const statusLabel = document.getElementById('status-label');
        const cardBorder = document.getElementById('card-border');

        function getSinal() {
            const rand = Math.random();
            let m, c, t;
            
            if (rand < 0.50) { 
                m = (1.01 + Math.random() * 0.98).toFixed(2);
                c = "#3399ff"; // Azul
                t = 15; 
            } else if (rand < 0.90) { 
                m = (2.00 + Math.random() * 7.99).toFixed(2);
                c = "#9c27b0"; // Roxo
                t = 15;
            } else { 
                m = (10.00 + Math.random() * 40).toFixed(2);
                c = "#e91e63"; // Rosa
                // Lógica de tempo que você pediu:
                t = (m > 25) ? 30 : 20; 
            }
            return { m, c, t };
        }

        async function loop() {
            while (true) {
                // FASE: ANALISANDO (Sempre 3 segundos)
                statusLabel.innerText = "Analisando Padrões...";
                statusLabel.style.color = "#ff003c";
                valText.innerText = "---";
                cardBorder.style.borderColor = "#1a2332";
                cardBorder.style.boxShadow = "none";
                
                bar.style.transition = "none";
                bar.style.width = "0%";
                bar.style.background = "#ff003c";
                
                await new Promise(r => setTimeout(r, 100));
                bar.style.transition = "width 3000ms linear";
                bar.style.width = "100%";
                await new Promise(r => setTimeout(r, 3000));

                // FASE: EXIBIR SINAL (Tempo variável: 15s, 20s ou 30s)
                const sinal = getSinal();
                statusLabel.innerText = "Entrada Confirmada";
                statusLabel.style.color = sinal.c;
                valText.innerText = sinal.m + "x";
                valText.style.color = sinal.c;
                cardBorder.style.borderColor = sinal.c;
                cardBorder.style.boxShadow = `0 0 20px ${sinal.c}66`;
                
                // Configura a barra para diminuir no tempo certo
                bar.style.transition = "none";
                bar.style.width = "100%";
                bar.style.background = sinal.c;
                
                await new Promise(r => setTimeout(r, 100));
                bar.style.transition = `width ${sinal.t}s linear`;
                bar.style.width = "0%";
                
                // Espera o tempo do sinal (t * 1000 milissegundos)
                await new Promise(r => setTimeout(r, sinal.t * 1000));
            }
        }

        loop();
    </script>
</body>
</html>